<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="mainPage" class="page">
        <div class="game-container" style="position: relative;">

            <img src="images/map.png" alt="Background Map" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -5; opacity: 0.5;">
        
            <!-- SVG路徑 -->
            <svg width="1000" height="600" id="gameMap" style="position: relative;">
                <!-- 更加不規則且虛線的路徑 -->
                <path id="path" d="M50 300 C 150 200, 250 400, 350 300 S 500 150, 600 300 S 800 450, 950 300" 
                    stroke="black" fill="transparent" stroke-width="5" stroke-dasharray="10,10"/>
            
                <image id="level1Image" xlink:href="images/DSC_8571.JPG" width="50" height="50" x="45" y="260" style="clip-path: circle(50%);"/>
                <image id="level2Image" xlink:href="images/DSC_8594.JPG" width="50" height="50" x="300" y="160" style="clip-path: circle(50%);"/>
                <image id="level3Image" xlink:href="images/DSC_8597.JPG" width="50" height="50" x="550" y="340" style="clip-path: circle(50%);"/>
                
                <!-- 角色 -->
                <image id="character" xlink:href="images/character.png" width="40" height="40" x="50" y="280" style="transition: transform 0.3s ease;"/>
                        
            </svg>
    
            <div class="button-container" style="display: flex; justify-content: center; gap: 20px; position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">
                <button id="prevLevelBtn" class="game-btn">Previous Level</button>
                <button id="enterLevelBtn" class="game-btn">Enter Level</button>
                <button id="nextLevelBtn" class="game-btn">Next Level</button>
            </div>
            <!-- 新增 "打開相簿" 按鈕 -->
        <button id="openAlbumBtn" style="position: absolute; top: 20px; right: 20px;">打開相簿</button>

        <!-- 小相簿模態視窗 -->
        <div id="albumModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); justify-content: center; align-items: center;">
            <div class="album-content" style="position: relative; background: white; padding: 20px; max-width: 500px; max-height: 500px; text-align: center;">
                <img id="albumImage" src="images/DSC_8597.JPG" style="max-width: 100%; max-height: 400px;"/>
                
                <div style="margin-top: 10px;">
                    <button id="prevPhotoBtn">上一張</button>
                    <button id="nextPhotoBtn">下一張</button>
                </div>
                <button id="closeAlbumBtn" style="position: absolute; top: 10px; right: 10px;">關閉</button>
            </div>
        </div>
        </div>
    </div>
    
    <div id="levelPage" class="page" style="display: none;">
        <!-- Character in the level，使用相對路徑 -->
        <img id="levelCharacter" src="../images/character.png" alt="Character" style="display: none; position: absolute; width: 40px; height: 40px;" />
    
        <button id="backToMainBtn">返回主畫面</button>
    </div>
    
    <!-- 引用 main.js 模組 -->
    <script type="module" src="script_2.js"></script>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyA1tH3_Ol7gjZuJ0cEBPpaHBcc2dvURcRA",
          authDomain: "rweb4003.firebaseapp.com",
          databaseURL: "https://rweb4003-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "rweb4003",
          storageBucket: "rweb4003.appspot.com",
          messagingSenderId: "966829493933",
          appId: "1:966829493933:web:0a743b893257ba34e78024",
          measurementId: "G-8M577L8MFB"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
      </script>
</body>
</html>
